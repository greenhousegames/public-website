{"version":3,"sources":["app/pages/learn/abc/preview.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAhDA;AAAA","file":"public/assets/js/pages/learn/abc/preview.js","sourcesContent":["'use strict';\n\nfunction preview(scriptpath, letter) {\n  var create = null,\n      game = null,\n      loaded = false,\n      loading = false;\n\n  var loadscript = function loadscript(cb) {\n    if (!loaded && !loading) {\n      loading = true;\n      $.getScript(scriptpath).done(function (script, textStatus) {\n        loaded = true;\n        loading = false;\n        cb();\n      }).fail(function (jqxhr, settings, exception) {\n        loading = false;\n      });\n    } else {\n      cb();\n    }\n  };\n\n  var load = function load() {\n    $('#card-letter-' + letter + \" a.preview-button\").click(function () {\n      loadscript(function () {\n        if (!create) {\n          create = require('pages/learn/abc/' + letter + '.js');\n        }\n\n        if (window.GreenhouseGames.learning.letter != letter) {\n          if (window.GreenhouseGames.learning.game) {\n            window.GreenhouseGames.learning.game.destroy();\n          }\n        }\n\n        window.GreenhouseGames.learning.game = create();\n        window.GreenhouseGames.learning.letter = letter;\n      });\n    });\n  };\n\n  $(document).ready(function () {\n    load();\n  });\n}\n\nmodule.exports = preview;\n"]}