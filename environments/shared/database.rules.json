{
  "rules": {
    ".read": true,
    ".write": "auth != null",

    "battles": {
      "rooms": {
        ".indexOn": [
          "ready"
        ]
      }
    },

    "games": {
      "smashdot": {
        "data": {
          ".indexOn": [
            "classic-score",
            "survival-duration"
          ]
        },
        "reporting": {
          "default": {
            "metrics": {
              ".indexOn": [
                "played~~sum",
                "endedAt~~last"
              ]
            }
          },
          "users": {
            "metrics": {
              ".indexOn": [
                "classic-score~~max",
                "survival-duration~~min",
                "win~~sum"
              ]
            }
          },
          "users-modes": {
            "metrics": {
              ".indexOn": [
                "classic-score~~max",
                "survival-score~~max",
                "battle-score~~max"
              ]
            }
          }
        }
      }
    }
  }
}
